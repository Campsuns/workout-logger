<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <title>Workout Logger</title>
  <link rel="stylesheet" href="styles.css?v=20250817-01">
</head>
<body>

  <!-- Flash for successful log -->
  <div id="flash"></div>
  <div id="toast" hidden class="toast"></div>

  <!-- USER SWITCH -->
  <div class="user-bar" id="userRow">
    <button class="user-chip" data-user="u_camp" type="button">Camp</button>
    <button class="user-chip" data-user="u_annie" type="button">Annie</button>
  </div>

  <!-- HEADER -->
  <header class="topbar">
    <div class="brand">Workout Logger</div>
    <nav class="nav-tabs">
      <button type="button" data-nav="list"  class="active">Workouts</button>
      <button type="button" data-nav="summary">Summary</button>
    </nav>
  </header>

  <!-- FILTER BAR -->
  <section class="filters">
    <select id="splitSelect" title="Split"></select>
    <select id="equipmentFilter" title="Equipment"></select>

    <select id="muscleFilter" title="Muscle"></select>
    <div class="btnrow">
      <button id="btnAddExercise" class="ghost" type="button">+ New</button>
      <button id="btnResetDone" class="ghost" type="button">Reset</button>
    </div>
  </section>

  <!-- SELECTED SPLIT SECTION -->
  <section id="selectedSplitWrap" hidden class="split-wrap">
    <div class="group-title">Selected Split</div>
    <div id="selectedSplitList" class="cards"></div>
  </section>
  <div id="otherTitle" class="group-title" hidden>Other Workouts</div>

  <!-- PAGES -->
  <main>
    <section id="page-list" class="page active">
      <div id="workoutList" class="cards"></div>
    </section>

    <section id="page-summary" class="page">
      <div class="period-tabs" style="margin-top:6px;">
        <button type="button" data-period="week"   class="active">Week</button>
        <button type="button" data-period="month">Month</button>
        <button type="button" data-period="year">Year</button>
      </div>
      <div id="summaryContent" class="summary"></div>
    </section>
  </main>

  <!-- LOG MODAL -->
  <dialog id="logModal">
    <form method="dialog" class="logform" id="logForm">
      <h3 id="logTitle" style="margin:0 0 4px"></h3>
      <div id="logSub" class="meta" style="margin:0 0 10px"></div>

      <div class="seg" id="sideSeg">
        <span>Side</span>
        <div class="seg-buttons">
          <button type="button" data-side="left">Left</button>
          <button type="button" data-side="right">Right</button>
          <button type="button" data-side="both" class="active">Both</button>
        </div>
      </div>

      <div class="stack">
        <div class="stepper" data-field="sets_done">
          <label>Sets</label>
          <div class="ctr">
            <button type="button" class="down">−</button>
            <div class="ctrval"><span>0</span></div>
            <button type="button" class="up">+</button>
          </div>
        </div>

        <div class="stepper" data-field="planned_reps">
          <label>Reps</label>
          <div class="ctr">
            <button type="button" class="down">−</button>
            <div class="ctrval"><span>0</span></div>
            <button type="button" class="up">+</button>
          </div>
        </div>

        <div class="stepper" data-field="weight_lb">
          <label>Weight (lb)</label>
          <div class="ctr">
            <button type="button" class="down">−</button>
            <div class="ctrval"><span>0</span></div>
            <button type="button" class="up">+</button>
          </div>
        </div>

        <div class="stepper" data-field="height">
          <label>Height</label>
          <div class="ctr">
            <button type="button" class="down">−</button>
            <div class="ctrval"><span>0</span></div>
            <button type="button" class="up">+</button>
          </div>
        </div>

        <div class="stepper" data-field="fail_reps">
          <label>Fail Reps (Last Set)</label>
          <div class="ctr">
            <button type="button" class="down">−</button>
            <div class="ctrval"><span>0</span></div>
            <button type="button" class="up">+</button>
          </div>
        </div>

        <div class="stepper" data-field="rpe_set2">
          <label>RPE (Set 2)</label>
          <div class="ctr">
            <button type="button" class="down">−</button>
            <div class="ctrval"><span>0</span></div>
            <button type="button" class="up">+</button>
          </div>
        </div>
      </div>

      <textarea id="logNotes" placeholder="Notes (optional)"></textarea>

      <menu>
        <span class="sp"></span>
        <button id="btnSkip" type="button">Skip Progress</button>
        <button id="btnLog"  type="button">Log</button>
        <button id="btnCancel" value="cancel" type="reset">Cancel</button>
      </menu>
    </form>
  </dialog>

  <!-- ADD EXERCISE WIZARD -->
  <dialog id="addModal">
    <form method="dialog" class="logform">
      <h3 style="margin:0 0 8px">New Exercise</h3>
      <div class="wizard">
        <div class="q"><label>Name</label><input id="exName" /></div>
        <div class="q" hidden><label>Variation</label><input id="exVar" /></div>
        <div class="q" hidden><label>Primary Muscle</label><input id="exPri" /></div>
        <div class="q" hidden><label>Secondary Muscle</label><input id="exSec" /></div>
        <div class="q" hidden><label>Tertiary Muscle</label><input id="exTer" /></div>
        <div class="q" hidden><label>Equipment</label><input id="exEq" /></div>
        <div class="q" hidden><label>Sets</label><input id="exSets" type="number" value="3" /></div>
        <div class="q" hidden><label>Default Weight (lb)</label><input id="exW" type="number" value="0" /></div>
        <div class="q" hidden><label>Default Height</label><input id="exH" type="number" value="0" /></div>
        <div class="q" hidden><label>Increment (lb)</label><input id="exInc" placeholder="blank = 5" /></div>
      </div>
      <menu>
        <button id="wizPrev" type="button">Back</button>
        <button id="wizNext" type="button">Next</button>
        <button id="wizSave" type="button">Save</button>
      </menu>
    </form>
  </dialog>

  <script src="app.js"></script>
</body>
</html>
